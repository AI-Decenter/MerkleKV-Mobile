# Minimal Mosquitto Configuration for Integration Testing
# Non-TLS setup to get basic functionality working

# =============================================================================
# Network Configuration
# =============================================================================

# Default MQTT port (non-TLS only)
listener 1883 0.0.0.0
protocol mqtt

# =============================================================================
# Authentication and Authorization
# =============================================================================

# Allow anonymous access for basic tests
allow_anonymous true

# =============================================================================
# Message Limits (Locked Spec Compliance)
# =============================================================================

# Maximum packet size (1MB to accommodate 256KiB values + overhead)
max_packet_size 1048576

# =============================================================================
# Logging Configuration
# =============================================================================

# Logging settings
log_dest stdout
log_type error
log_type warning
log_type information

# Connection messages
connection_messages true

# =============================================================================
# Performance Settings
# =============================================================================

# Memory limits and performance tuning
max_inflight_messages 20
max_queued_messages 1000

# Keep alive settings
keepalive_interval 60

# =============================================================================
# Persistence Settings
# =============================================================================

# Persistence settings
persistence true
persistence_location /mosquitto/data/